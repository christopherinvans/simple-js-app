let pokemonRepository=function(){let g=[],h=document.querySelector("#modal-container");function a(a){g.push(a)}function b(){return g}function c(a){d(a).then(function(){e(a),console.log(a)})}function d(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.front_default,a.height=b.height,a.weight=b.weight,a.types=b.types.map(a=>a.type.name).join(", ")}).catch(function(a){console.error(a)})}function e(a){let b=$(".modal-body"),c=$(".modal-title");c.empty(),b.empty();let e=$("<h1>"+a.name+"</h1>"),d=$('<img class="img-element">');d.attr("src",a.imageUrl);let f=$("<p>Height: "+a.height/10+" m</p>"),g=$("<p>Weight: "+a.weight/10+" kg</p>"),h=$("<p>Types: "+a.types+"</p>");c.append(e),b.append(d),b.append(f),b.append(g),b.append(h)}function f(){h.classList.remove("is-visible"),h.classList.add("hidden")}return{add:a,getAll:b,addListItem:function(d){let e=document.querySelector(".pokemon-list"),b=document.createElement("li");b.classList.add("group-list-item"),b.classList.add("col-sm-4","col-md-6","col-lg-12");let a=document.createElement("button");a.innerText=d.name,a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#modal-container"),$(a).addClass("button-class btn-block btn m1"),b.appendChild(a),e.appendChild(b),a.addEventListener("click",function(){c(d)})},showDetails:c,loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(a){return a.json()}).then(function(b){b.results.forEach(function(b){a({name:b.name.charAt(0).toUpperCase()+b.name.slice(1),detailsUrl:b.url})})}).catch(function(a){console.error(a)})},loadDetails:d,showModal:e,hideModal:f,showDialog:function(d,g){e(d,g);let c=h.querySelector(".modal"),a=document.createElement("button");a.classList.add("modal-confirm"),a.innerText="Confirm";let b=document.createElement("button");return b.classList.add("modal-cancel"),b.innerText="Cancel",c.appendChild(a),c.appendChild(b),a.focus(),new Promise((d,c)=>{b.addEventListener("click",f),a.addEventListener("click",()=>{dialogPromiseReject=null,f(),d()}),dialogPromiseReject=c})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})